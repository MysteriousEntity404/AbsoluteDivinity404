<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Enqu√™te Interactive - Absolute Divinity</title>
  <style>
    body { background-color: #0f0f0f; color: #ffffff; font-family: 'Poppins', sans-serif; text-align: center; padding: 20px; }
    h1 { color: #f4c542; }
    .button { background-color: #4CAF50; color: white; padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer; margin: 10px; font-size: 16px; }
    .button:hover { background-color: #45a049; }
    input[type="text"] { padding: 10px; border-radius: 5px; border: 1px solid #555; width: 80%; margin-top: 10px; background-color: #222; color: white; }
    .hidden { display: none; }
    .area { background-color: #1a1a1a; padding: 20px; border-radius: 8px; margin: 20px auto; max-width: 600px; animation: fadeIn 1s ease; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  </style>
</head>
<body>

<h1> Enqu√™te Interactive ‚Äì Absolute Divinity</h1>

<div id="step1" class="area">
    <h2>Etape 1: D√©chiffrez l'indice</h2>
    <p>Utilise ce code trouv√© pour percer le voile : <strong>2L7TgrcUMk</strong></p>
    <p>(Ce que tu cherches se trouve ici: https://pastebin.com/2QUh2vKE)</p>
    <input type="text" id="inputStep1" placeholder="Entrez le mot-cl√©...">
    <br>
    <button class="button" onclick="validateStep1()">Valider</button>
    <p id="msgStep1"></p>
</div>

<div id="cooldown" class="area hidden">
    <h2>Veuillez patienter...</h2>
    <p id="cooldownTimer"></p>
</div>

<div id="step2" class="area hidden">
    <h2>Etape 2: Quiz Brawl Stars</h2>
    <form id="quizForm">
        <p>Quel brawler tire des projectiles rebondissants ?<br>
        <input type="radio" name="q1" value="ricochet"> Ricochet<br>
        <input type="radio" name="q1" value="nita"> Nita<br>
        <input type="radio" name="q1" value="penny"> Penny</p>

        <p>Mode pour collecter des gemmes ?<br>
        <input type="radio" name="q2" value="gem"> Razzia de Gemmes<br>
        <input type="radio" name="q2" value="survival"> Survivant<br>
        <input type="radio" name="q2" value="heist"> Braquage</p>

        <p>Raret√© de Bo, Dynamike, Tick ?<br>
        <input type="radio" name="q3" value="super"> Super Rare<br>
        <input type="radio" name="q3" value="epic"> Epique<br>
        <input type="radio" name="q3" value="mythic"> Mythique</p>

        <button type="button" class="button" onclick="validateQuiz()">Soumettre</button>
        <p id="msgStep2"></p>
    </form>
</div>

<div id="step3" class="area hidden">
    <h2>Etape 3: L'√ânigme de l'Essence Cach√©e</h2>
    <p style="animation: fadeIn 2s ease;">
    Je ne suis pas dans les vid√©os, mais juste √† c√¥t√©,<br>
    L√† o√π ton cr√©ateur parle de lui, de ce qu‚Äôil fait,<br>
    Un petit texte t‚Äôattend pour mieux me conna√Ætre,<br>
    CC‚Äôest ici que tu d√©couvriras ce qui me rend unique.<br>
    L√† bas t'y attends une personne a hot dog qui fait des videos,<br><br>
    Qui suis-je ?
    </p>
    <input type="text" id="inputStep3" placeholder="Votre r√©ponse ici...">
    <br>
    <button class="button" onclick="validateRiddle()">Soumettre</button>
    <p id="msgStep3"></p>
</div>

<div id="final" class="area hidden">
    <h2>üåü F√©licitations üåü</h2>
    <p>Tu as perc√© le voile de l'oubli et atteint l'Absolute Divinity. Fait un ticket sur le discord et envoie un screen de ce message pour obtenir le role secret!</p>
</div>

<script>
let cooldownDuration = 12 * 60 * 60 * 1000; // 12 heures
let cooldownEndTime = localStorage.getItem('cooldownEndTime');
let cooldownDurationStep3 = 12 * 60 * 60 * 1000; // 12 heures aussi
let cooldownEndTimeStep3 = localStorage.getItem('cooldownEndTimeStep3');

const step1Code = "le secret te sera r√©v√©l√© bient√¥t";
const riddleAnswer = "the divinity has been released!";

function validateStep1() {
    const input = document.getElementById('inputStep1').value.trim().toLowerCase();
    if (input === step1Code) {
        localStorage.setItem('step1done', 'true');
        cooldownEndTime = Date.now() + cooldownDuration;
        localStorage.setItem('cooldownEndTime', cooldownEndTime);
        document.getElementById('step1').classList.add('hidden');
        document.getElementById('cooldown').classList.remove('hidden');
        updateCooldown();
    } else {
        document.getElementById('msgStep1').innerText = "Mauvais code. Cherche mieux.";
    }
}

function updateCooldown() {
    const interval = setInterval(() => {
        const remaining = cooldownEndTime - Date.now();
        if (remaining > 0) {
            const hours = Math.floor(remaining / (1000 * 60 * 60));
            const minutes = Math.floor((remaining % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((remaining % (1000 * 60)) / 1000);
            document.getElementById('cooldownTimer').innerText = `Temps restant: ${hours}:${minutes}:${seconds}`;
        } else {
            clearInterval(interval);
            document.getElementById('cooldown').classList.add('hidden');
            document.getElementById('step2').classList.remove('hidden');
        }
    }, 1000);
}

function updateCooldownStep3() {
    const interval = setInterval(() => {
        const remaining = cooldownEndTimeStep3 - Date.now();
        if (remaining > 0) {
            const hours = Math.floor(remaining / (1000 * 60 * 60));
            const minutes = Math.floor((remaining % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((remaining % (1000 * 60)) / 1000);
            document.getElementById('cooldownTimer').innerText = `Temps restant: ${hours}:${minutes}:${seconds}`;
        } else {
            clearInterval(interval);
            document.getElementById('cooldown').classList.add('hidden');
            document.getElementById('step3').classList.remove('hidden');
        }
    }, 1000);
}

function validateQuiz() {
    const form = document.forms['quizForm'];
    if (form.q1.value === "ricochet" && form.q2.value === "gem" && form.q3.value === "epic") {
        localStorage.setItem('step2done', 'true');
        cooldownEndTimeStep3 = Date.now() + cooldownDurationStep3;
        localStorage.setItem('cooldownEndTimeStep3', cooldownEndTimeStep3);
        document.getElementById('step2').classList.add('hidden');
        document.getElementById('cooldown').classList.remove('hidden');
        updateCooldownStep3();
    } else {
        document.getElementById('msgStep2').innerText = "Certaines r√©ponses sont fausses. R√©essaie.";
    }
}

function validateRiddle() {
    const input = document.getElementById('inputStep3').value.trim().toLowerCase();
    if (input === riddleAnswer) {
        localStorage.setItem('step3done', 'true');
        document.getElementById('step3').classList.add('hidden');
        document.getElementById('final').classList.remove('hidden');
    } else {
        document.getElementById('msgStep3').innerText = "Mauvaise r√©ponse. Plonge plus profond.";
    }
}

window.onload = function() {
    if (localStorage.getItem('step1done') && !localStorage.getItem('step2done')) {
        if (cooldownEndTime && Date.now() < cooldownEndTime) {
            document.getElementById('step1').classList.add('hidden');
            document.getElementById('cooldown').classList.remove('hidden');
            updateCooldown();
        } else {
            document.getElementById('step1').classList.add('hidden');
            document.getElementById('step2').classList.remove('hidden');
        }
    } else if (localStorage.getItem('step2done') && !localStorage.getItem('step3done')) {
        if (cooldownEndTimeStep3 && Date.now() < cooldownEndTimeStep3) {
            document.getElementById('step1').classList.add('hidden');
            document.getElementById('step2').classList.add('hidden');
            document.getElementById('cooldown').classList.remove('hidden');
            updateCooldownStep3();
        } else {
            document.getElementById('step1').classList.add('hidden');
            document.getElementById('step2').classList.add('hidden');
            document.getElementById('step3').classList.remove('hidden');
        }
    } else if (localStorage.getItem('step3done')) {
        document.getElementById('step1').classList.add('hidden');
        document.getElementById('step2').classList.add('hidden');
        document.getElementById('step3').classList.add('hidden');
        document.getElementById('final').classList.remove('hidden');
    }
}
</script>

</body>
</html>
